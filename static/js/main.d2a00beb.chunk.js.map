{"version":3,"sources":["lib/board.js","components/ChoiceDialog.js","lib/logic.js","components/BoardElement.jsx","enums/MenuItems.js","components/MenuElement.jsx","App.jsx","components/SolverElement.jsx","utils/browser.js","serviceWorker.js","index.js"],"names":["Cell","value","arguments","length","undefined","Object","classCallCheck","this","row","column","block","options","locked","fiber","index","Board","dim","sqrt","Math","pow","rows","Array","fill","map","p","columns","blocks","all","i","j","cell","toConsumableArray","backupState","_this","_this2","priority","range","ignoreInput","backup","filter","forEach","dir","_loop","val","matchVal","priorityIdx","indexOf","some","rollback","_this3","_loop2","_loop3","visibleCells","getVisibleCellsByDifficulty","solvePriority","shuffleArray","solve","size","shuffledIndexes","valsRemoved","push","counter","isSolvable","pop","console","warn","concat","window","currVisible","shuffle","arr","getHints","_ref","every","c","lastValue","_this4","parseInt","repeat","_this5","setFibers","hints","toString","_loop4","n","ordersArr","order","candidates","_this6","keys","_loop5","location","href","split","join","start","_","idx","floor","random","_ref2","difficultyMap","4","1","2","3","5","9","16","difficulty","ChoiceDialog","props","onChange","react_default","a","createElement","style","display","key","className","onClick","setFibersStrong","board","fibersBefore","reduceFibers1","reduceFibers2","reduceFibers3","swordfish","flat","groupI","where","sourceGroup","sourceIdx","slicedToArray","getCellsToRemoveOptionFrom","fibers","toChunks","reduce","totalFiber","fiberGroups","o","bit","group","marks","isHaving2Bits","isHavingBits","bind","triggeredArr","Set","foundNew","oArrIdx","triggered","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","having2Bits","has","add","log","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","err","return","isHaving2to3Bits","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","having2to3Bits","k","_console","idxs","bitsToRemove","apply","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","includes","_iterator3","bits","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","hasN","columnsWithOnly2N","Map","get","set","values","removeOptionFromFiber","_iterator5","slice","BoardElement","possibleConstructorReturn","getPrototypeOf","call","initialState","state","b","shuffleHard","highlightedCell","highlightedNumber","optionsMode","isEnded","fullCounter","focusedCell","animateCopied","page","width","height","backgroundColor","color","fontSize","navigator","clipboard","writeText","currentLink","setState","objectSpread","setTimeout","error","components_ChoiceDialog","l","getOptionsCell","getNumberCell","onExit","showHint","type","maxLength","readOnly","fontWeight","onFocus","e","highlightLines","highlightNumber","target","setSelectionRange","onBlur","unhighlightLines","Number","changeValueOnBoard","isSolved","optionCellSize","tabIndex","onKeyUp","test","marked","reason","_ref3","_ref4","hint","Component","MenuItems","NEW_GAME","MENU","SOLVER","nextState","defaultValue","onInput","hidden","borderColor","App","fn","document","title","onpopstate","ev","_getQueryParams","fromEntries","search","pair","ch","Boolean","history","replaceState","components_BoardElement","regularPath","pushState","SolverElement","MenuElement","getPage","hostname","match","ReactDOM","render","src_App_0","getElementById","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.d2a00beb.chunk.js","sourcesContent":["class Cell {\n  constructor(value = 0) {\n    /** @type {Cell[]} */\n    this.row = [];\n    /** @type {Cell[]} */\n    this.column = [];\n    /** @type {Cell[]} */\n    this.block = [];\n    this.value = value;\n    this.options = [];\n    this.locked = false;\n    this.fiber = 0;\n    this.index = 0;\n  }\n}\n\nclass Board {\n  constructor(dim) {\n    this.dim = dim;\n    const sqrt = (this.sqrt = dim ** 0.5);\n    /** @type {Array<Array<Cell>>} */\n    this.rows = new Array(dim).fill().map(p => new Array(dim).fill(0));\n    /** @type {Array<Array<Cell>>} */\n    this.columns = new Array(dim).fill().map(p => new Array(dim).fill(0));\n    /** @type {Array<Array<Cell>>} */\n    this.blocks = new Array(dim).fill().map(p => new Array(dim).fill(0));\n    /** @type {Array<Cell>} */\n    this.all = new Array(dim ** 2).fill(0);\n    for (let i = 0; i < dim; i++) {\n      for (let j = 0; j < dim; j++) {\n        const cell = new Cell();\n\n        this.rows[i][j] = cell;\n        cell.row = this.rows[i];\n\n        this.columns[j][i] = cell;\n        cell.column = this.columns[j];\n\n        this.blocks[i - (i % sqrt) + (j - (j % sqrt)) / sqrt][\n          (i % sqrt) * sqrt + (j % sqrt)\n        ] = cell;\n        cell.block = this.blocks[i - (i % sqrt) + (j - (j % sqrt)) / sqrt];\n\n        this.all[i * dim + j] = cell;\n\n        cell.options = [...Array(dim)];\n        cell.index = i * dim + j;\n      }\n    }\n  }\n\n  backup() {\n    this.backupState = this.all.map(cell => cell.value);\n  }\n\n  rollback() {\n    this.all.map((cell, i) => (cell.value = this.backupState[i]));\n  }\n\n  solve(priority = range(this.dim, 1), ignoreInput) {\n    this.backup();\n    if (!ignoreInput) {\n      this.all.filter(cell => !cell.locked).forEach(cell => (cell.value = 0));\n    }\n\n    let i = -1,\n      dir = 1;\n    /** @type {Cell} */\n    let cell = {};\n    while (cell) {\n      i += dir;\n      cell = this.all[i];\n\n      if (!cell || cell.locked) continue;\n\n      let val = cell.value;\n      let matchVal = cell => cell.value === val;\n      let priorityIdx = priority.indexOf(val);\n      do {\n        priorityIdx++;\n        val = priority[priorityIdx];\n      } while (\n        priorityIdx < priority.length &&\n        (cell.block.some(matchVal) ||\n          cell.row.some(matchVal) ||\n          cell.column.some(matchVal))\n      );\n      if (priorityIdx < priority.length) {\n        cell.value = val;\n        dir = 1;\n      } else {\n        cell.value = 0;\n        dir = -1;\n      }\n    }\n\n    if (i === -1) {\n      this.rollback();\n    }\n    return i > -1;\n  }\n\n  isSolvable(priority = range(this.dim, 1)) {\n    this.backup();\n\n    let i = -1,\n      dir = 1;\n    let foundSolution = false;\n\n    /** @type {Cell} */\n    let cell = {};\n    while (cell) {\n      i += dir;\n      cell = this.all[i];\n\n      if (!cell || cell.locked) continue;\n\n      let val = cell.value;\n      let matchVal = cell => cell.value === val;\n      let priorityIdx = priority.indexOf(val);\n      do {\n        priorityIdx++;\n        val = priority[priorityIdx];\n      } while (\n        priorityIdx < priority.length &&\n        (cell.block.some(matchVal) ||\n          cell.row.some(matchVal) ||\n          cell.column.some(matchVal))\n      );\n      if (priorityIdx < priority.length) {\n        cell.value = val;\n        dir = 1;\n      } else {\n        cell.value = 0;\n        dir = -1;\n      }\n    }\n\n    if (i === -1) {\n      this.rollback();\n      return false;\n    }\n\n    dir = -1;\n    foundSolution = true;\n\n    cell = {};\n    while (cell) {\n      i += dir;\n      cell = this.all[i];\n\n      if (!cell || cell.locked) continue;\n\n      let val = cell.value;\n      let matchVal = cell => cell.value === val;\n      let priorityIdx = priority.indexOf(val);\n      do {\n        priorityIdx++;\n        val = priority[priorityIdx];\n      } while (\n        priorityIdx < priority.length &&\n        (cell.block.some(matchVal) ||\n          cell.row.some(matchVal) ||\n          cell.column.some(matchVal))\n      );\n      if (priorityIdx < priority.length) {\n        cell.value = val;\n        dir = 1;\n      } else {\n        cell.value = 0;\n        dir = -1;\n      }\n    }\n\n    this.rollback();\n    return i === -1 && foundSolution;\n  }\n\n  shuffle_test(difficulty = 5) {\n    const visibleCells = getVisibleCellsByDifficulty(difficulty, this.dim);\n\n    this.all.forEach(cell => {\n      cell.locked = false;\n      cell.value = 0;\n    });\n    const solvePriority = shuffleArray(range(this.dim, 1));\n    this.solve(solvePriority, true);\n\n    const size = this.dim ** 2;\n    const shuffledIndexes = shuffleArray(range(size));\n    this.all.forEach(cell => (cell.locked = true));\n\n    let i;\n    const valsRemoved = [];\n    for (i = size - 1; i >= visibleCells; i--) {\n      const cell = this.all[shuffledIndexes[i]];\n      valsRemoved.push(cell.value);\n      cell.locked = false;\n      cell.value = 0;\n    }\n    i++;\n    let counter = 0;\n    while (!this.isSolvable(solvePriority)) {\n      this.all[shuffledIndexes[i]].value = valsRemoved.pop();\n      counter++;\n    }\n\n    if (counter > 0) {\n      console.warn(\n        `Shuffle could not stand up to expectations: expected ${visibleCells} visibleCells, got down to ${\n          visibleCells - counter\n        } visible cells`\n      );\n      window.currVisible = visibleCells - counter;\n    }\n  }\n\n  shuffleHard() {\n    if (this.dim !== 9) {\n      return this.shuffle();\n    }\n\n    do {\n      this.shuffle();\n\n      let arr;\n      do {\n        arr = this.getHints();\n        arr.forEach(({ cell, value }) => (cell.value = value));\n      } while (arr.length > 0);\n    } while (this.all.every(c => c.value > 0));\n\n    // TESTING EASIER WHEN COMMENTED OUT\n    this.all.filter(c => !c.locked).forEach(c => (c.value = 0));\n  }\n\n  shuffle(difficulty = 5) {\n    // const startT = performance.now();\n\n    const visibleCells = getVisibleCellsByDifficulty(difficulty, this.dim);\n\n    this.all.forEach(cell => {\n      cell.locked = false;\n      cell.value = 0;\n    });\n    const priority = shuffleArray(range(this.dim, 1));\n    this.solve(priority, true);\n    this.all.forEach(cell => (cell.locked = true));\n\n    const size = this.dim ** 2;\n    const shuffledIndexes = shuffleArray(range(size));\n    let currVisible = size;\n    let i = 0;\n    let lastValue, cell, isSolvable;\n    do {\n      do {\n        cell = this.all[shuffledIndexes[i]];\n        lastValue = cell.value;\n        cell.value = 0;\n        cell.locked = false;\n        i++;\n        currVisible--;\n        isSolvable = this.isSolvable(priority);\n      } while (isSolvable && currVisible > visibleCells && i < size);\n\n      if (!isSolvable) {\n        currVisible++;\n        cell.value = lastValue;\n        cell.locked = true;\n      }\n    } while (currVisible > visibleCells && i < size);\n\n    if (currVisible > visibleCells) {\n      console.warn(\n        `Shuffle could not stand up to expectations: expected ${visibleCells} visibleCells, got down to ${currVisible} visible cells`\n      );\n      window.currVisible = currVisible;\n    }\n\n    // console.log('shuffle took:', performance.now() - startT);\n  }\n\n  setFibers() {\n    this.all\n      .filter(c => !c.value)\n      .forEach(c => {\n        let fiber = parseInt('1'.repeat(this.dim), 2);\n        c.row\n          .filter(c => c.value)\n          .forEach(cell => (fiber = fiber & ~(1 << (cell.value - 1))));\n        c.column\n          .filter(c => c.value)\n          .forEach(cell => (fiber = fiber & ~(1 << (cell.value - 1))));\n        c.block\n          .filter(c => c.value)\n          .forEach(cell => (fiber = fiber & ~(1 << (cell.value - 1))));\n        c.fiber = fiber;\n      });\n  }\n\n  getHints() {\n    this.setFibers();\n\n    const hints = this.all\n      .filter(c => !c.value && !(c.fiber & (c.fiber - 1)))\n      .map(c => ({ cell: c, value: c.fiber.toString(2).length }));\n\n    for (let n = 1; n <= this.dim; n++) {\n      [this.rows, this.columns, this.blocks].forEach(ordersArr => {\n        ordersArr.forEach(order => {\n          const candidates = order.filter(\n            c => !c.value && c.fiber & (1 << (n - 1))\n          );\n          if (candidates.length === 1) {\n            hints.push({\n              cell: candidates[0],\n              value: n\n            });\n          }\n        });\n      });\n    }\n\n    return hints;\n  }\n\n  getHints_indexes() {\n    const hints = [...this.all.keys()]\n      .filter(\n        i =>\n          !this.all[i].value && !(this.all[i].fiber & (this.all[i].fiber - 1))\n      )\n      .map(i => ({ index: i, value: this.all[i].fiber.toString(2).length }));\n\n    for (let n = 1; n <= this.dim; n++) {\n      [this.rows, this.columns, this.blocks].forEach(ordersArr => {\n        ordersArr.forEach(order => {\n          const candidates = order.filter(\n            c => !c.value && c.fiber & (1 << (n - 1))\n          );\n          if (candidates.length === 1) {\n            hints.push({\n              index: this.all.indexOf(candidates[0]),\n              value: n\n            });\n          }\n        });\n      });\n    }\n\n    return hints;\n  }\n\n  get currentLink() {\n    return `${\n      window.location.href.split('?')[0]\n    }?page=new-game&values=${this.all\n      .map(p => p.value.toString(16))\n      .join('')}&locked=${this.all.map(p => (p.locked ? '1' : '0')).join('')}`;\n  }\n}\n\nfunction range(n, start = 0) {\n  return Array(n)\n    .fill()\n    .map((_, i) => i + start);\n}\n\nfunction shuffleArray(arr) {\n  for (let i = 0; i < arr.length; i++) {\n    const idx = Math.floor(Math.random() * arr.length - i) + i;\n    [arr[i], arr[idx]] = [arr[idx], arr[i]];\n  }\n  return arr;\n}\n\nconst difficultyMap = {\n  4: {\n    1: 8,\n    2: 7,\n    3: 6,\n    4: 5,\n    5: 4\n  },\n  9: {\n    1: 40,\n    2: 35,\n    3: 30,\n    4: 25,\n    5: 22\n  },\n  16: {\n    1: 180,\n    2: 160,\n    3: 140,\n    4: 120,\n    5: 115 //103\n  }\n};\nfunction getVisibleCellsByDifficulty(difficulty, dim) {\n  return difficultyMap[dim][difficulty];\n}\n\nBoard.Cell = Cell;\n\nexport default Board;\n","import React from 'react';\nimport '../App.css';\n\n// eslint-disable-next-line no-unused-vars\nimport Board from '../lib/board';\n\n/** @param {{ dim: number, cell?: Board.Cell, onChange: () => void }} props */\nfunction ChoiceDialog(props) {\n  let { dim, cell, onChange } = props;\n\n  return (\n    <div style={{ display: 'flex' }}>\n      {Array(dim)\n        .fill()\n        .map((_, i) => i)\n        .map(i => {\n          return (\n            <button\n              key={i}\n              className={\n                'Options-Dialog-Button' +\n                (cell && cell.options[i]\n                  ? ''\n                  : ' Options-Dialog-Button-Pressed')\n              }\n              onClick={() => {\n                if (cell) {\n                  cell.options[i] = !cell.options[i];\n                  onChange();\n                }\n              }}\n            >\n              {i + 1}\n            </button>\n          );\n        })}\n    </div>\n  );\n}\n\nexport default ChoiceDialog;\n","// eslint-disable-next-line no-unused-vars\nimport Board from './board';\n\nexport function range(n) {\n  return [...Array(n).keys()];\n}\n\n/** @param {Board} board */\nexport function isSolved(board) {\n  return (\n    board.rows.every(\n      row => new Set(row.map(cell => cell.value)).size === board.dim\n    ) &&\n    board.columns.every(\n      column => new Set(column.map(cell => cell.value)).size === board.dim\n    ) &&\n    board.blocks.every(\n      block => new Set(block.map(cell => cell.value)).size === board.dim\n    )\n  );\n}\n\n/** @param {Board} board */\nexport function setFibers(board) {\n  board.all.forEach(c => {\n    if (c.value) {\n      c.fiber = 0;\n      return;\n    }\n\n    let fiber = (1 << board.dim) - 1;\n    c.row\n      .filter(c => c.value)\n      .forEach(cell => (fiber = fiber & ~(1 << (cell.value - 1))));\n    c.column\n      .filter(c => c.value)\n      .forEach(cell => (fiber = fiber & ~(1 << (cell.value - 1))));\n    c.block\n      .filter(c => c.value)\n      .forEach(cell => (fiber = fiber & ~(1 << (cell.value - 1))));\n    c.fiber = fiber;\n  });\n}\n\n/** @param {Board} board */\nexport function setFibersStrong(board) {\n  setFibers(board);\n\n  let fibersBefore;\n\n  do {\n    fibersBefore = board.all.map(c => c.fiber);\n    reduceFibers1(board);\n    reduceFibers2(board);\n    reduceFibers3(board);\n    swordfish(board);\n  } while (board.all.some((c, i) => c.fiber !== fibersBefore[i]));\n}\n\n/** @param {Board} board */\nexport function reduceFibers1(board) {\n  const { sqrt, dim } = board;\n\n  [\n    [\n      board.rows.flat(),\n      (groupI, where, sourceGroup) =>\n        sourceGroup[groupI * dim + where * sqrt].block.filter(\n          (_, idx) => Math.floor(idx / sqrt) !== groupI % sqrt\n        )\n    ],\n    [\n      board.columns.flat(),\n      (groupI, where, sourceGroup) =>\n        sourceGroup[groupI * dim + where * sqrt].block.filter(\n          cell => cell.index % dim !== groupI % dim\n        )\n    ],\n    [\n      board.blocks.flat(),\n      (groupI, where, sourceGroup) =>\n        sourceGroup[groupI * dim + where * sqrt].row.filter(\n          (_, idx) => Math.floor(idx / sqrt) !== groupI % sqrt\n        )\n    ],\n    [\n      board.blocks\n        .map(block =>\n          block.map(\n            (c, i, arr) => arr[Math.floor(i / sqrt) + (i % sqrt) * sqrt]\n          )\n        )\n        .flat(),\n      (groupI, where, sourceGroup) =>\n        board.blocks[groupI][where].column.filter(\n          (cell, idx) => Math.floor(idx / sqrt) !== Math.floor(groupI / sqrt)\n        )\n    ]\n  ].forEach(([sourceGroup, getCellsToRemoveOptionFrom], sourceIdx) => {\n    const fibers = toChunks(sourceGroup, sqrt).map(order =>\n      order\n        .filter(c => !c.value)\n        .reduce((totalFiber, c) => totalFiber | c.fiber, 0)\n    );\n    const fiberGroups = toChunks(fibers, sqrt);\n\n    range(dim)\n      .map(o => 1 << o)\n      .forEach(bit => {\n        fiberGroups.forEach((group, i) => {\n          const marks = group.map(fiber => !!(bit & fiber));\n          if (marks.filter(p => p).length === 1) {\n            const where = marks.indexOf(true);\n            const cellsToRemoveOptionFrom = getCellsToRemoveOptionFrom(\n              i,\n              where,\n              sourceGroup\n            );\n            cellsToRemoveOptionFrom.forEach(\n              cell => (cell.fiber = cell.fiber & ~bit)\n            );\n          }\n        });\n      });\n  });\n}\n\n/** @param {Board} board */\nexport function reduceFibers2(board) {\n  const isHaving2Bits = isHavingBits.bind(null, 2);\n\n  const ordersArr = [board.rows, board.columns, board.blocks];\n  const triggeredArr = [new Set(), new Set(), new Set()];\n\n  let foundNew = false;\n  do {\n    foundNew = false;\n    for (let oArrIdx = 0; oArrIdx < ordersArr.length; oArrIdx++) {\n      const triggered = triggeredArr[oArrIdx];\n\n      for (const order of ordersArr[oArrIdx]) {\n        const having2Bits = order.filter(isHaving2Bits);\n        for (let i = 0; i < having2Bits.length; i++) {\n          if (triggered.has(having2Bits[i].index)) continue;\n\n          const fiber = having2Bits[i].fiber;\n          for (let j = i + 1; j < having2Bits.length; j++) {\n            if (fiber === having2Bits[j].fiber) {\n              triggered.add(having2Bits[i].index).add(having2Bits[j].index); // found their match - can't be used again in the orderSet\n              foundNew = true;\n              console.log(\n                'reduceFibers2',\n                having2Bits[i].index,\n                having2Bits[j].index\n              );\n              for (const cell of order) {\n                if (cell.fiber && cell.fiber !== fiber) {\n                  cell.fiber = cell.fiber & ~fiber;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  } while (foundNew);\n}\n\n/** @param {Board} board */\nexport function reduceFibers3(board) {\n  const isHaving2to3Bits = cell =>\n    isHavingBits(2, cell) || isHavingBits(3, cell);\n\n  const ordersArr = [board.rows, board.columns, board.blocks];\n  const triggeredArr = [new Set(), new Set(), new Set()];\n\n  let foundNew = false;\n  do {\n    foundNew = false;\n    for (let oArrIdx = 0; oArrIdx < ordersArr.length; oArrIdx++) {\n      const triggered = triggeredArr[oArrIdx];\n\n      for (const order of ordersArr[oArrIdx]) {\n        const having2to3Bits = order.filter(isHaving2to3Bits);\n        for (let i = 0; i < having2to3Bits.length; i++) {\n          if (triggered.has(having2to3Bits[i].index)) continue;\n          for (let j = i + 1; j < having2to3Bits.length; j++) {\n            if (triggered.has(having2to3Bits[j].index)) continue;\n            for (let k = j + 1; k < having2to3Bits.length; k++) {\n              if (triggered.has(having2to3Bits[k].index)) continue;\n\n              const fiber =\n                having2to3Bits[i].fiber |\n                having2to3Bits[j].fiber |\n                having2to3Bits[k].fiber;\n\n              if (isHaving2to3Bits({ fiber })) {\n                const idxs = [i, j, k].map(idx => having2to3Bits[idx].index);\n                idxs.forEach(triggered.add.bind(triggered)); // found their match - can't be used again in the orderSet\n                const bitsToRemove = fiber;\n                console.log('reduceFibers3', ...idxs);\n                for (const cell of order) {\n                  if (cell.fiber && !idxs.includes(cell.index)) {\n                    cell.fiber = cell.fiber & ~bitsToRemove;\n                  }\n                }\n\n                foundNew = true;\n                break;\n              }\n            }\n          }\n        }\n      }\n    }\n  } while (foundNew);\n}\n\nexport function isHavingBits(bits, cell) {\n  let counter = 0;\n  let fiber = cell.fiber;\n  do {\n    counter += fiber & 1;\n  } while (counter <= bits && (fiber = fiber >> 1));\n\n  return counter === bits;\n}\n\n/** @param {Board} board */\nexport function getHints(board) {\n  const hints = [...board.all.keys()]\n    .filter(\n      i =>\n        !board.all[i].value && !(board.all[i].fiber & (board.all[i].fiber - 1))\n    )\n    .map(i => ({\n      index: i,\n      value: board.all[i].fiber.toString(2).length,\n      reason: 'The only available option for this cell'\n    }));\n\n  range(board.dim).forEach(o => {\n    const value = o + 1;\n    const bit = 1 << o;\n    [\n      [board.rows, `only candidate for ${value} in row`],\n      [board.columns, `only candidate for ${value} in column`],\n      [board.blocks, `only candidate for ${value} in block`]\n    ].forEach(([ordersArr, reason]) => {\n      ordersArr.forEach(order => {\n        const candidates = order.filter(c => !c.value && c.fiber & bit);\n        if (candidates.length === 1) {\n          hints.push({\n            index: board.all.indexOf(candidates[0]),\n            value,\n            reason\n          });\n        }\n      });\n    });\n  });\n\n  return hints;\n}\n\n/** @param {Board} board */\nexport function swordfish(board) {\n  // https://www.kristanix.com/sudokuepic/sudoku-solving-techniques.php\n  // find columns where number is avaliable only in 2 cells.\n  // if one of their rows is also the same - add to trail\n  // if trail goes back - great.\n  // if not - move on\n\n  for (const n of range(board.dim)) {\n    const hasN = cell => cell.fiber & (1 << (n - 1));\n    /** @type {Board.Cell[]} */\n    const columnsWithOnly2N = board.columns\n      .map(column => column.filter(hasN))\n      .filter(column => column.length === 2)\n      .flat();\n    if (columnsWithOnly2N.length >= 4) {\n      const map = new Map();\n      columnsWithOnly2N.forEach(cell => {\n        let row = map.get(cell.row);\n        if (!row) {\n          row = [];\n          map.set(cell.row, row);\n        }\n        row.push(cell.index);\n      });\n      const rows = [...map.values()];\n      if (rows.every(row => row.length === 2)) {\n        console.log('swordfish', rows);\n        rows.forEach(row => {\n          board.all[row[0]].row\n            .filter(c => c.index !== row[0] && c.index !== row[1])\n            .forEach(c => removeOptionFromFiber(c, n));\n        });\n      }\n    }\n  }\n}\n\nfunction removeOptionFromFiber(cell, n) {\n  cell.fiber = cell.fiber & ~(1 << (n - 1));\n}\n\n/** @type {<T>(arr: T[], size: number) => T[][]} */\nexport function toChunks(arr, size) {\n  return [...Array(arr.length / size).keys()].map(i =>\n    arr.slice(i * size, (i + 1) * size)\n  );\n}\n","import React, { Component } from 'react';\nimport Board from '../lib/board';\nimport ChoiceDialog from './ChoiceDialog';\nimport '../App.css';\nimport { getHints, isSolved, range, setFibersStrong } from '../lib/logic';\n\nclass BoardElement extends Component {\n  /** @param {{ dim: number, initialState: { values: number[], locked: number[] } }} props */\n  constructor(props) {\n    super(props);\n    const { initialState } = props;\n\n    this.state = {\n      board: (() => {\n        const b = new Board(this.props.dim);\n\n        if (initialState) {\n          b.all.forEach((c, i) => {\n            c.value = initialState.values[i];\n            c.locked = !!initialState.locked[i];\n          });\n        } else {\n          b.shuffleHard();\n          // b.shuffle();\n        }\n        b.all.forEach(c => {\n          c.state = { highlightedCell: false, highlightedNumber: false };\n        });\n\n        return b;\n      })(),\n      optionsMode: false\n    };\n\n    this.isEnded = false;\n    this.fullCounter = this.state.board.all.filter(cell => cell.value).length;\n\n    this.focusedCell = null;\n    // this.choiceDialog = new ChoiceDialog(() => this.setState(this.state));\n  }\n\n  render() {\n    const { animateCopied } = this.state;\n    const board = this.state.board;\n    const sqrt = board.sqrt;\n    /// for testing:\n    window.board = board;\n    ///\n\n    const page = (\n      <div className=\"App-header\">\n        <div\n          style={{\n            width: 180,\n            height: 30\n          }}\n        >\n          <button\n            style={{\n              width: '100%',\n              backgroundColor: animateCopied ? 'green' : 'transparent',\n              color: 'white',\n              fontSize: 15\n            }}\n            onClick={() => {\n              navigator.clipboard.writeText(window.board.currentLink);\n              this.setState({ ...this.state, animateCopied: true });\n              setTimeout(() => {\n                this.setState({ ...this.state, animateCopied: false });\n              }, 2000);\n            }}\n          >\n            {animateCopied ? 'Copied to clipboard!' : 'Copy Current URL'}\n          </button>\n        </div>\n        <div>\n          <p style={this.state.error ? {} : { color: '#282c34' }}>\n            {this.state.error || 'something'}\n          </p>\n        </div>\n\n        <div>\n          <ChoiceDialog\n            dim={board.dim}\n            cell={this.focusedCell}\n            onChange={() => this.setState(this.state)}\n          />\n        </div>\n\n        <div>\n          {range(sqrt).map(i => (\n            <div style={{ display: 'flex' }}>\n              {range(sqrt).map(j => (\n                <div className=\"Board-Block\">\n                  {range(sqrt).map(k => (\n                    <div style={{ display: 'flex' }}>\n                      {range(sqrt).map(l => {\n                        const cell = board.blocks[i * sqrt + j][k * sqrt + l];\n                        if (!cell.value && cell.options.some(n => n)) {\n                          return this.getOptionsCell(cell);\n                        } else {\n                          return this.getNumberCell(cell);\n                        }\n                      })}\n                    </div>\n                  ))}\n                </div>\n              ))}\n            </div>\n          ))}\n        </div>\n\n        <div style={{ display: 'flex' }}>\n          <button\n            className=\"Buttons btn-green\"\n            onClick={() => {\n              if (board.solve()) {\n                this.setState(this.state);\n              } else {\n                this.setState({ ...this.state, error: 'Cannot be solved!' });\n              }\n            }}\n          >\n            Solve\n          </button>\n\n          <button\n            className=\"Buttons btn-yellow\"\n            onClick={() => {\n              board.all\n                .filter(c => !c.locked)\n                .forEach(c => {\n                  c.value = 0;\n                  c.options = Array(board.dim).fill();\n                });\n              board.all.forEach(c => {\n                c.state = { highlightedCell: false, highlightedNumber: false };\n              });\n              this.setState(this.state);\n            }}\n          >\n            Reset\n          </button>\n\n          <button\n            className=\"Buttons btn-red\"\n            onClick={() => {\n              this.props.onExit();\n            }}\n          >\n            Exit\n          </button>\n        </div>\n\n        <div style={{ display: 'flex' }}>\n          <button\n            className=\"Buttons btn-blue\"\n            onClick={() => {\n              this.showHint();\n            }}\n          >\n            Hint\n          </button>\n\n          <button\n            className=\"Buttons btn-blue\"\n            onClick={() => {\n              setFibersStrong(board);\n\n              board.all\n                .filter(c => c.value === 0)\n                .forEach(c => {\n                  c.options = c.options.map((_, i) => !!(c.fiber & (1 << i)));\n                });\n\n              this.setState(this.state);\n            }}\n          >\n            Find All Options\n          </button>\n        </div>\n      </div>\n    );\n\n    delete this.state.error;\n    return page;\n  }\n\n  getNumberCell(cell) {\n    const board = this.state.board;\n\n    return (\n      <div className=\"Cell\">\n        <input\n          type=\"text\"\n          maxLength=\"2\"\n          readOnly={this.isEnded || cell.locked}\n          key={cell.index}\n          className=\"Cell\"\n          style={{\n            backgroundColor: cell.locked\n              ? '#A7A7B4'\n              : cell.state.highlightedCell\n              ? 'rgba(255,255,255,0.8)'\n              : '',\n            color: cell.state.highlightedNumber ? 'blue' : '',\n            fontWeight: cell.state.highlightedNumber ? 'bolder' : 'bold'\n          }}\n          value={cell.value || ''}\n          onFocus={e => {\n            this.focusedCell = cell.value ? null : cell;\n\n            highlightLines(cell);\n            highlightNumber(cell, board);\n            this.setState(this.state);\n            if (!cell.locked) {\n              e.target.setSelectionRange(0, e.target.value.length);\n            }\n          }}\n          onBlur={() => {\n            unhighlightLines(cell);\n            highlightNumber(cell, board);\n            this.setState(this.state);\n          }}\n          onChange={e => {\n            const n = Number(e.target.value || 0);\n            this.changeValueOnBoard(n, cell, board);\n            this.focusedCell = cell.value ? null : cell;\n          }}\n        />\n      </div>\n    );\n  }\n\n  changeValueOnBoard(n, cell, board) {\n    if (n >= 0 && n <= this.props.dim) {\n      if (!!cell.value !== !!n) {\n        this.fullCounter += !!n ? 1 : -1;\n        if (this.fullCounter === board.dim ** 2) {\n          if (isSolved(board)) {\n            this.setState({ ...this.state, error: 'You Won!' });\n            this.isEnded = true;\n          } else {\n            this.setState({ ...this.state, error: 'Wrong!' });\n            this.isEnded = true;\n          }\n        }\n      }\n      cell.value = n;\n      this.setState(this.state);\n    }\n    highlightNumber(cell, board);\n  }\n\n  /** @param {Board.Cell} cell */\n  getOptionsCell(cell) {\n    const board = this.state.board;\n    const optionCellSize = Math.floor(30 / board.sqrt);\n\n    return (\n      <div className=\"Cell\">\n        <div\n          className=\"Cell options-container\"\n          key={cell.index}\n          tabIndex=\"0\"\n          readOnly={this.isEnded}\n          style={\n            this.focusedCell === cell\n              ? { color: 'blue', backgroundColor: 'beige' }\n              : cell.state.highlightedCell\n              ? { backgroundColor: 'rgba(255,255,255,0.8)' }\n              : {}\n          }\n          onFocus={e => {\n            this.focusedCell = cell;\n\n            highlightLines(cell);\n            highlightNumber(cell, board);\n            this.setState(this.state);\n          }}\n          onBlur={() => {\n            unhighlightLines(cell);\n            highlightNumber(cell, board);\n            this.setState(this.state);\n          }}\n          onKeyUp={e => {\n            if (/[0-9]/.test(e.key)) {\n              this.changeValueOnBoard(Number(e.key), cell, board);\n            }\n          }}\n        >\n          {cell.options.map((marked, i) => (\n            <div\n              className=\"options-cell\"\n              style={{\n                fontSize: `${\n                  board.sqrt === 4\n                    ? (optionCellSize / 2) | 0\n                    : optionCellSize - 1\n                }px`,\n                width: `${optionCellSize}px`,\n                height: `${optionCellSize}px`\n              }}\n            >\n              {marked ? i + 1 : ' '}\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  showHint() {\n    setFibersStrong(this.state.board);\n    const hints = getHints(this.state.board);\n    console.log(hints);\n    const [hint] = hints;\n    if (hint) {\n      const board = this.state.board;\n      const cell = board.all[hint.index];\n      highlightLines(cell);\n      // eslint-disable-next-line react/no-direct-mutation-state\n      this.state.error = hint.reason;\n      this.changeValueOnBoard(hint.value, cell, board);\n      setTimeout(() => {\n        unhighlightLines(cell);\n      });\n    }\n\n    return hint;\n  }\n}\n\nexport default BoardElement;\n\n/** @param {Board.Cell} cell */\n/** @param {Board} board */\nfunction highlightNumber(cell, board) {\n  board.all.forEach(c => {\n    c.state.highlightedNumber = cell.value === c.value;\n  });\n}\n\n/** @param {Board.Cell} cell */\n/** @param {Board} board */\nfunction highlightLines(cell) {\n  cell.row.forEach(p => (p.state.highlightedCell = true));\n  cell.column.forEach(p => (p.state.highlightedCell = true));\n}\n\n/** @param {Board.Cell} cell */\nfunction unhighlightLines(cell) {\n  cell.row.forEach(p => (p.state.highlightedCell = false));\n  cell.column.forEach(p => (p.state.highlightedCell = false));\n}\n","export const MenuItems = {\n  NEW_GAME: 'new-game',\n  MENU: 'menu',\n  SOLVER: 'solver'\n};\n","import React, { Component } from 'react';\nimport Board from '../lib/board';\nimport '../App.css';\nimport { MenuItems } from '../enums/MenuItems';\n\nclass BoardElement extends Component {\n  state = {\n    dim: this.props.dim\n  };\n\n  render() {\n    const board = new Board(this.state.dim);\n    const sqrt = board.sqrt;\n    return (\n      <div className=\"App-header\">\n        <button\n          className=\"Buttons\"\n          onClick={() => {\n            const nextState = { ...this.state, page: MenuItems.NEW_GAME };\n            this.setState(nextState);\n            this.props.onChange(nextState);\n          }}\n        >\n          New Game\n        </button>\n\n        <button\n          className=\"Buttons\"\n          onClick={() => {\n            const nextState = { ...this.state, page: MenuItems.SOLVER };\n            this.setState(nextState);\n            this.props.onChange(nextState);\n          }}\n        >\n          Solver\n        </button>\n\n        <select\n          className=\"Buttons\"\n          defaultValue={this.state.dim}\n          onInput={val => {\n            this.setState({ ...this.state, dim: Number(val.target.value) });\n          }}\n        >\n          <option value=\"4\">4x4</option>\n          <option value=\"9\">9x9</option>\n          <option value=\"16\">16x16</option>\n        </select>\n\n        <div>\n          {range(sqrt).map(i => (\n            <div key={'a' + i} style={{ display: 'flex' }}>\n              {range(sqrt).map(j => (\n                <div key={'b' + j} className=\"Board-Block\">\n                  {range(sqrt).map(k => (\n                    <div key={'l' + k} style={{ display: 'flex' }}>\n                      {range(sqrt).map(l => {\n                        const cell = board.blocks[i * sqrt + j][k * sqrt + l];\n                        return (\n                          <input\n                            key={cell.index}\n                            type=\"text\"\n                            maxLength=\"2\"\n                            readOnly={true}\n                            className=\"Cell-Mini\"\n                            value={cell.value || ''}\n                          />\n                        );\n                      })}\n                    </div>\n                  ))}\n                </div>\n              ))}\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default BoardElement;\n\nfunction range(n) {\n  return [...Array(n).keys()];\n}\n","import React, { Component } from 'react';\nimport './App.css';\nimport BoardElement from './components/BoardElement';\nimport MenuElement from './components/MenuElement';\nimport SolverElement from './components/SolverElement';\nimport { MenuItems } from './enums/MenuItems';\nimport { getQueryParams, onPopState } from './utils/browser';\n\nlet initialState;\n\nclass App extends Component {\n  state = {\n    dim: 9,\n    page: MenuItems.MENU\n  };\n\n  componentWillMount() {\n    document.title = 'Sudoku Game';\n    onPopState(state => {\n      initialState = state;\n      this.setState({\n        ...this.state,\n        page: state ? MenuItems.NEW_GAME : this.state.page\n      });\n    });\n\n    const { page, values, locked } = getQueryParams();\n    if (page === MenuItems.NEW_GAME) {\n      initialState = {\n        values: values.split('').map(ch => parseInt(ch, 16)),\n        locked: locked.split('').map(Number).map(Boolean)\n      };\n\n      window.history.replaceState(initialState, document.title);\n\n      this.setState({\n        ...this.state,\n        page: MenuItems.NEW_GAME\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          {getPage(this.state, state => this.setState(state))}\n        </header>\n      </div>\n    );\n  }\n}\n\nfunction getPage(state, onChange) {\n  const { page, dim } = state;\n  switch (page) {\n    case MenuItems.NEW_GAME:\n      return (\n        <BoardElement\n          dim={dim}\n          initialState={initialState}\n          onExit={() => {\n            if (initialState) {\n              const regularPath = window.location.href.split('?')[0];\n              window.history.pushState(null, document.title, regularPath);\n              initialState = undefined;\n            }\n            onChange({ ...state, page: 'menu' });\n          }}\n        ></BoardElement>\n      );\n    case MenuItems.SOLVER:\n      return (\n        <SolverElement\n          dim={dim}\n          onExit={() => onChange({ ...state, page: 'menu' })}\n        ></SolverElement>\n      );\n    case MenuItems.MENU:\n    default:\n      return <MenuElement dim={dim} onChange={onChange}></MenuElement>;\n  }\n}\n\nexport default App;\n","\nimport React, { Component } from 'react';\nimport Board from '../lib/board';\nimport '../App.css';\n\nclass BoardElement extends Component {\n\n    state = {\n        board: new Board(this.props.dim)\n    }\n\n    render() {\n        const board = this.state.board;\n        const sqrt = board.sqrt;\n        /// for testing:\n        window.board = board;\n        ///\n\n        const page = (\n            <div className=\"App-header\">\n                <div>\n                    <p hidden={!this.state.error}>{this.state.error}</p>\n                </div>\n                <div>\n                    {range(sqrt).map(i => <div style={{ display: 'flex' }}>\n                        {range(sqrt).map(j => <div className=\"Board-Block\" >\n                            {range(sqrt).map(k => <div style={{ display: 'flex' }}>\n                                {range(sqrt).map(l => {\n                                    const cell = board.blocks[i * sqrt + j][k * sqrt + l];\n                                    return <input\n                                        type=\"text\"\n                                        maxLength=\"2\"\n                                        className=\"Cell\"\n                                        style={{ backgroundColor: cell.locked ? 'gray' : '', borderColor: cell.locked ? 'gray' : '' }}\n                                        value={cell.value || ''}\n                                        onChange={e => {\n                                            const n = Number(e.target.value || 0);\n                                            if (n >= 0 && n <= this.props.dim) {\n                                                cell.value = n;\n                                                cell.locked = !!cell.value;\n                                                this.setState({ board });\n                                            }\n                                        }}\n                                    />\n                                })}\n                            </div>)}\n                        </div>)}\n                    </div>\n                    )}\n                </div>\n                <div style={{ display: 'flex' }}>\n                    <button className=\"Buttons btn-green\" onClick={() => {\n                        if (board.solve()) {\n                            this.setState({ board });\n                        } else {\n                            this.setState({ board, error: 'Cannot be solved!' });\n                        }\n                    }}>Solve</button>\n\n                    <button className=\"Buttons btn-yellow\" onClick={() => {\n                        this.setState({\n                            board: new Board(this.props.dim)\n                        });\n                    }}>Reset</button>\n\n                    <button className=\"Buttons btn-red\" onClick={() => {\n                        this.props.onExit();\n                    }}>Exit</button>\n                </div>\n            </div>\n        );\n\n        delete this.state.error;\n        return page;\n    }\n}\n\nexport default BoardElement;\n\nfunction range(n) {\n    return [...Array(n).keys()];\n}","export function getQueryParams() {\n  return Object.fromEntries(\n    window.location.search\n      .slice(1)\n      .split('&')\n      .map(pair => pair.split('='))\n  );\n}\n\nexport function onPopState(fn) {\n  window.onpopstate = ev => {\n    fn(ev.state);\n  };\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App.jsx';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}